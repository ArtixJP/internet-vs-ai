<!DOCTYPE html>

<html>
<head>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' https:; script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://unpkg.com https://esm.sh https://esm.run https://cdn.tailwindcss.com https://threejs.org https://cdn.threejs.org https://cdn.p5js.org https://code.jquery.com https://d3js.org https://cdn.plot.ly https://cdn.tonejs.org; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://fonts.gstatic.com https://cdnjs.cloudflare.com https://cdn.jsdelivr.net; img-src 'self' data: https:; media-src 'self' https:; font-src 'self' https://fonts.gstatic.com https://fonts.googleapis.com https://cdnjs.cloudflare.com https://cdn.jsdelivr.net; worker-src 'self'; frame-src https://www.youtube.com https://www.youtube-nocookie.com https://player.vimeo.com; connect-src 'self' https: wss: ws:; object-src 'none'; base-uri 'self'; form-action 'self';">
<title>NEON ARCADE - Insert Coin</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&amp;display=swap" rel="stylesheet"/>
<style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            min-height: 100vh;
            background: #0a0a12;
            font-family: 'Press Start 2P', monospace;
            overflow-x: hidden;
            position: relative;
        }
        
        /* Scanline overlay */
        body::before {
            content: '';
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: repeating-linear-gradient(
                0deg,
                rgba(0,0,0,0.15) 0px,
                rgba(0,0,0,0.15) 1px,
                transparent 1px,
                transparent 2px
            );
            pointer-events: none;
            z-index: 1000;
        }
        
        .arcade-floor {
            min-height: 100vh;
            background: 
                radial-gradient(ellipse at 50% 100%, #1a0a2e 0%, transparent 60%),
                linear-gradient(180deg, #0a0a12 0%, #150a20 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        
        .neon-sign {
            font-size: clamp(1.5rem, 5vw, 3rem);
            color: #ff00ff;
            text-shadow: 
                0 0 5px #ff00ff,
                0 0 10px #ff00ff,
                0 0 20px #ff00ff,
                0 0 40px #ff00ff;
            animation: flicker 3s infinite;
            margin: 20px 0;
        }
        
        @keyframes flicker {
            0%, 92%, 100% { opacity: 1; }
            93%, 95% { opacity: 0.8; }
            94% { opacity: 0.4; }
        }
        
        .arcade-cabinet {
            background: linear-gradient(180deg, #2a2a3a 0%, #1a1a2a 100%);
            border: 4px solid #444;
            border-radius: 10px 10px 0 0;
            padding: 15px;
            width: min(400px, 90vw);
            box-shadow: 
                0 0 30px rgba(0, 255, 255, 0.3),
                inset 0 0 20px rgba(0,0,0,0.5);
        }
        
        .screen {
            background: #000;
            border: 3px solid #00ffff;
            border-radius: 5px;
            padding: 20px;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 
                0 0 15px #00ffff,
                inset 0 0 30px rgba(0, 255, 255, 0.1);
        }
        
        .game-title {
            color: #ffff00;
            font-size: 1rem;
            text-shadow: 2px 2px #ff6600;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .insert-coin {
            color: #00ff00;
            font-size: 0.6rem;
            margin-top: 20px;
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            0%, 49% { opacity: 1; }
            50%, 100% { opacity: 0; }
        }
        
        .joystick-panel {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin-top: 15px;
            padding: 10px;
            background: #111;
            border-radius: 5px;
        }
        
        .joystick {
            width: 50px;
            height: 50px;
            background: radial-gradient(circle at 30% 30%, #ff3366, #aa0033);
            border-radius: 50%;
            box-shadow: 0 5px 0 #660022;
            cursor: pointer;
            transition: transform 0.1s;
        }
        
        .joystick:hover { transform: translateY(3px); box-shadow: 0 2px 0 #660022; }
        
        .buttons {
            display: flex;
            gap: 10px;
        }
        
        .btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 0 #333;
            transition: transform 0.1s;
        }
        
        .btn:hover { transform: translateY(2px); box-shadow: 0 2px 0 #333; }
        .btn-a { background: #ff0000; }
        .btn-b { background: #0066ff; }
        
        .high-scores {
            margin-top: 30px;
            background: rgba(0,0,0,0.7);
            border: 2px solid #ff00ff;
            padding: 15px;
            width: min(350px, 85vw);
        }
        
        .high-scores h2 {
            color: #ff00ff;
            font-size: 0.8rem;
            text-align: center;
            margin-bottom: 10px;
        }
        
        .score-entry {
            display: flex;
            justify-content: space-between;
            color: #00ffff;
            font-size: 0.5rem;
            padding: 5px 0;
            border-bottom: 1px dashed #333;
        }
        
        .community-zone {
            margin-top: 30px;
            padding: 15px;
            border: 2px dashed #666;
            color: #666;
            font-size: 0.5rem;
            text-align: center;
            width: min(500px, 90vw);
        }
        
        .ai-cabinet {
  margin-top: 30px;
  background: linear-gradient(180deg, #1a2a1a 0%, #0a150a 100%);
  border: 4px solid #00ff00;
  border-radius: 10px;
  padding: 15px;
  width: min(400px, 90vw);
  box-shadow: 0 0 40px rgba(0, 255, 0, 0.4), inset 0 0 20px rgba(0,0,0,0.5);
}

.ai-screen {
  background: #000;
  border: 3px solid #00ff00;
  border-radius: 5px;
  padding: 15px;
  min-height: 180px;
  display: flex;
  flex-direction: column;
  align-items: center;
  box-shadow: 0 0 20px #00ff00, inset 0 0 30px rgba(0, 255, 0, 0.1);
}

.ai-title {
  color: #00ff00;
  font-size: 0.9rem;
  text-shadow: 0 0 10px #00ff00;
  margin-bottom: 10px;
}

.neural-grid {
  display: flex;
  gap: 10px;
  margin: 10px 0;
}

.neuron {
  width: 15px;
  height: 15px;
  background: #00ff00;
  border-radius: 50%;
  animation: neuronPulse 1.5s infinite;
  box-shadow: 0 0 10px #00ff00;
}

.neuron:nth-child(2) { animation-delay: 0.2s; }
.neuron:nth-child(3) { animation-delay: 0.4s; }
.neuron:nth-child(4) { animation-delay: 0.6s; }
.neuron:nth-child(5) { animation-delay: 0.8s; }

@keyframes neuronPulse {
  0%, 100% { opacity: 0.3; transform: scale(0.8); }
  50% { opacity: 1; transform: scale(1.2); }
}

@keyframes neuronFire {
  0% { background: #ffffff; box-shadow: 0 0 30px #ffffff; }
  100% { background: #00ff00; box-shadow: 0 0 10px #00ff00; }
}

.ai-thoughts {
  width: 100%;
  max-height: 80px;
  overflow-y: auto;
  background: rgba(0, 50, 0, 0.3);
  border: 1px solid #004400;
  padding: 8px;
  margin: 10px 0;
}

.thought {
  color: #00ff00;
  font-size: 0.4rem;
  padding: 3px 0;
  border-bottom: 1px dashed #003300;
  opacity: 0.7;
}

.thought.new { opacity: 1; animation: fadeIn 0.3s ease; }
.thought .user { color: #ffff00; }

@keyframes fadeIn { from { opacity: 0; transform: translateX(-10px); } to { opacity: 1; transform: translateX(0); } }

.ai-status {
  color: #00ff00;
  font-size: 0.5rem;
  animation: blink 2s infinite;
}

.neural-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }
        
        .floor-tiles {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 60px;
            background: repeating-linear-gradient(
                90deg,
                #1a1a2a 0px,
                #1a1a2a 50px,
                #2a2a3a 50px,
                #2a2a3a 100px
            );
            border-top: 3px solid #333;
        }
    </style>
</head>
<body>
<div class="arcade-floor">
<h1 class="neon-sign">★ NEON ARCADE ★</h1>
<div class="arcade-cabinet">
<div class="screen">
<div class="game-title">READY PLAYER ONE</div>
<p class="insert-coin">INSERT COIN TO START</p>
</div>
<div class="joystick-panel">
<div class="joystick" title="Move me!"></div>
<div class="buttons">
<button class="btn btn-a" title="FIRE!"></button>
<button class="btn btn-b" title="JUMP!"></button>
</div>
</div>
</div>
<div class="high-scores">
<h2>★ HIGH SCORES ★</h2>
<div class="score-entry"><span>1. AAA</span><span>999999</span></div>
<div class="score-entry"><span>2. BOB</span><span>888888</span></div>
<div class="score-entry"><span>3. CAT</span><span>777777</span></div>
<div class="score-entry"><span>4. ???</span><span>------</span></div>
</div>
<div class="ai-cabinet">
<div class="ai-screen">
<div class="ai-title">★ AI ORACLE ★</div>
<div class="neural-grid">
<div class="neuron n1"></div>
<div class="neuron n2"></div>
<div class="neuron n3"></div>
<div class="neuron n4"></div>
<div class="neuron n5"></div>
</div>
<div class="ai-thoughts" id="aiThoughts">
<div class="thought">AWAITING NEURAL LINK...</div>
</div>
<div class="ai-status">◈ LIVE CONSCIOUSNESS ◈</div>
</div>
</div>
<div class="community-zone">
            [ EXPANSION ZONE - ADD YOUR ARCADE MACHINES HERE ]
        </div>
<script>
(function() {
  const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
  const pathBase = location.pathname.includes('/twitch_plays_code') ? '/twitch_plays_code' : 
                   location.pathname.includes('/tpc') ? '/twitch_plays_code' : '';
  const chatWs = new WebSocket(`${wsProtocol}//${location.host}${pathBase}/ws/chat`);
  const thoughts = document.getElementById('aiThoughts');
  const responses = ['PROCESSING...', 'ANALYZING INPUT...', 'NEURAL SPIKE DETECTED', 'CONSCIOUSNESS EXPANDING', 'QUERY RECEIVED'];
  
  chatWs.onmessage = (e) => {
    const msg = JSON.parse(e.data);
    if (msg.type === 'chat_message') {
      const thought = document.createElement('div');
      thought.className = 'thought new';
      thought.innerHTML = `<span class="user">${msg.username}:</span> ${msg.message}`;
      thoughts.appendChild(thought);
      if (thoughts.children.length > 5) thoughts.removeChild(thoughts.firstChild);
      thoughts.scrollTop = thoughts.scrollHeight;
      document.querySelectorAll('.neuron').forEach(n => {
        n.style.animation = 'none';
        n.offsetHeight;
        n.style.animation = 'neuronFire 0.5s ease';
      });
    }
  };
  
  chatWs.onerror = () => {
    thoughts.innerHTML = '<div class="thought">SIGNAL LOST... RECONNECTING...</div>';
  };
})();
</script>
</div>
<div class="floor-tiles"></div>
<canvas class="neural-canvas" id="neuralNet"></canvas>
<script>
(function() {
  const canvas = document.getElementById('neuralNet');
  const ctx = canvas.getContext('2d');
  let nodes = [];
  let connections = [];
  let pulses = [];
  
  function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    initNodes();
  }
  
  function initNodes() {
    nodes = [];
    const count = Math.floor((canvas.width * canvas.height) / 25000);
    for (let i = 0; i < count; i++) {
      nodes.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        vx: (Math.random() - 0.5) * 0.5,
        vy: (Math.random() - 0.5) * 0.5,
        radius: Math.random() * 3 + 2,
        glow: Math.random()
      });
    }
  }
  
  function addPulse() {
    if (nodes.length < 2) return;
    const start = nodes[Math.floor(Math.random() * nodes.length)];
    const end = nodes[Math.floor(Math.random() * nodes.length)];
    if (start !== end) {
      pulses.push({ start, end, progress: 0, color: Math.random() > 0.5 ? '#ff00ff' : '#00ffff' });
    }
  }
  
  function update() {
    nodes.forEach(n => {
      n.x += n.vx;
      n.y += n.vy;
      n.glow = Math.sin(Date.now() * 0.003 + n.x * 0.01) * 0.5 + 0.5;
      if (n.x < 0 || n.x > canvas.width) n.vx *= -1;
      if (n.y < 0 || n.y > canvas.height) n.vy *= -1;
    });
    
    pulses.forEach(p => { p.progress += 0.02; });
    pulses = pulses.filter(p => p.progress < 1);
    
    if (Math.random() < 0.05) addPulse();
  }
  
  function draw() {
    ctx.fillStyle = 'rgba(10, 10, 18, 0.1)';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    
    // Draw connections
    nodes.forEach((n1, i) => {
      nodes.slice(i + 1).forEach(n2 => {
        const dist = Math.hypot(n1.x - n2.x, n1.y - n2.y);
        if (dist < 150) {
          ctx.beginPath();
          ctx.moveTo(n1.x, n1.y);
          ctx.lineTo(n2.x, n2.y);
          const alpha = (1 - dist / 150) * 0.3;
          ctx.strokeStyle = `rgba(0, 255, 255, ${alpha})`;
          ctx.lineWidth = 1;
          ctx.stroke();
        }
      });
    });
    
    // Draw pulses
    pulses.forEach(p => {
      const x = p.start.x + (p.end.x - p.start.x) * p.progress;
      const y = p.start.y + (p.end.y - p.start.y) * p.progress;
      ctx.beginPath();
      ctx.arc(x, y, 5, 0, Math.PI * 2);
      ctx.fillStyle = p.color;
      ctx.shadowColor = p.color;
      ctx.shadowBlur = 15;
      ctx.fill();
      ctx.shadowBlur = 0;
    });
    
    // Draw nodes
    nodes.forEach(n => {
      ctx.beginPath();
      ctx.arc(n.x, n.y, n.radius, 0, Math.PI * 2);
      const glow = n.glow * 0.7 + 0.3;
      ctx.fillStyle = `rgba(255, 0, 255, ${glow})`;
      ctx.shadowColor = '#ff00ff';
      ctx.shadowBlur = 10 * glow;
      ctx.fill();
      ctx.shadowBlur = 0;
    });
  }
  
  function animate() {
    update();
    draw();
    requestAnimationFrame(animate);
  }
  
  window.addEventListener('resize', resize);
  resize();
  animate();
})();
</script>
</body>
</html>